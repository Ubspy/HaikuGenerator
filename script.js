var inputText = ("The world we live in, it's so wonderous, ,mysterious, even magical. No, not that world. I meant this one, the smartphone. "
+	"Each system and program app is it's own little planet of perfect. Technology, all providing services so necessary, so crucial, so unbelievably profound. "
+	"Look who just sent me a text! Addie Mccallister? It must be a mistake, or a joke, or a scam! Don't send her your social security number. She's right there! "
+	"That's our user, Alex. And, like every freshman in high school, his whole life, everything, revolves around his phone. And, because the pace of life gets, "
+	"faster and faster, and attention spans get shorter and shorter. And, you're probably not even listening to me right now. "
+	"Who has the time to type out actual words? And that's where we come in. The most important invention in the history of communication! Emojis, that's my home! "
+	"Textopolis, here, each of us does one thing, and we have to nail it every time. Christmas tree just has to stand there, all festive. merry christmas! "
+	"It's still september, Tim! and princesses. I am so pretty, they just gotta wear their crowns and keep their hair comb. We are so pretty. "
+	"Devil, poop, thumbs up, they just show up and they're good to go. But for the faces, the pressure is on. Cryer always has to cry, even if he just won the lottery. "
+	"Hurray, I'm a millionaire! Laugher's always laughing, even if he's just broken his arm. Ahh!! Ah! I can see the bone!! and me, I'm a meh. "
+	"So I gotta totally be over it all the time, you know? like meh, who cares. which is not as easy as it sounds. I gotta be meh I gotta be! "
+	"meh morning misses D, I see you have the little minis with ya! Oh, they're so cute! So abodable, I can't take it! "
+	"I will never get them to sleep! Stick to your one face, weirdo. Oh no! It's hard to only act meh when living in textopolis is, just so exciting! "
+	"Hah low good simeans! Yes, well we have business to attend to. What kind off business? Monkey business. "
+	"Ha ha ha ha, I sounded british. Meh. Oh, that was really good. Meh? Meh. Meh, ha ha. What the freak ya doing there, mate? Practicing. "
+	"Today is my first day on the phone. Oh, droit. I'm gonna be so, meh. What are you going to do? Blah! Me and the boys are gonna throw ourselves on the barbie! "
+	"Woo! Gooday, mate! Sorry emoticons! Oh, I hate knocking over the elderly. Let me help, let me help. Oh, my colon! Ducks. Hey, is that the time? "
+	"Hey, my eyes are up here. Right on time! And last week, Alex sent me next to this text! huh? huh? Ha ha ha, that elephant pissed himself! "
+	"Ha ha ha haha, why are you laughing, freak? Now, unlike me, my parents are total pros. Gene, please tell me you weren't laughing just now. "
+	"Gene so help me I swear. Oh, he was, I remember. Let's go see if you can get it right. I have some bad news, Gene, and I'm afraid that you'll have the wrong reaction. "
+	"Ok, what's the wrong reaction? Anything other than meh. Come on! I don't want to be late! I'm not letting you go to work today. Wait, what? You're just not ready, son. "
+	"Come on! working in a cube is an Emoji's whole purpose in life! Everybody my age is working on the phone except for me! Oh sweetie, that's not true Yeah! "
+	"I'm going to work on the phone and I'm only ten! That's because I believe in you! Should we wash our hands? Ha ha ha ha ha ha ha! We're number two! We're number two! "
+	"See? I, I know i'm different, ok? But, I need to, I can be meh. I just, want to be a working Emoji, you know, like everybody else, and then i would finally fit in, "
+	"you know? Ah, you fit in, honey. No I don't, mom. I never have. But I could change all that if you just let me! Just give me a chance! "
+	"But what if you get sent out on the phone, making the wrong face? No dad, I'll make the right face! look! You're so handsome when you make that face. "
+	"I think he's ready, Mel. Meh. come on, dad. Let me prove it to you. If you really think you're ready. Yes! Yes I am! I promise I won't let you down! Wow! "
+	"Congratulations, everyone! What an exciting day for all of you! Oh, it's really her! Oh, pizza! First day on the job, Hi, hi! Don't be nervous! I won't bite! "
+	"Hi, I'm Smiler! Don't touch me! Hi! I mean, hey, as you know, I'm Smiler, I'm the system supervisor here, because I was the original Emoji. "
+	"Here's how it works. Tt's nothing fancy! Wait a minute, it's really fancy! You each have your own cube on the Emoji bar! Ff alex chooses you, "
+	"Should you be so lucky, your cube will light up! Tt's showtime! The scanner will scan you, and that scan will get sent right up to Alex's text box. "
+	"And let me tell you guys, there is nothing like getting scanned for the first time. You're gonna love it. Now over here is the favorites section, "
+	"Where you'll find all the most popular Emojis. And of course, you'll find my cube here. You are smooth. Just doing my duty. Ha ha ha! What did I say? "
+	"Come on, tell me you aren't just a little bit tempted? Steven, for the last time, I don't want to buy a timeshare. Come on, man, it's high five! you know me! "
+	"I'm a favorite! Alex hasn't picked you in weeks. When he stops picking you, you're no longer a favorite. There's gotta be some sort of mistake, I mean, look at me, "
+	"I'm an attractive, hand-giving high five! Oh! Fistbump! Come on in! Hey, ladies! Fistbump? He's a knucklehead! literally! Look at him, I can look like that! "
+	"Ugh, ow, cramp. Big mistake. Oh. Help me. Help up a hand. Oh. Here you go. Thanks mate. Hey, little man, how about you create a distraction, "
+	"and I'll just slip under the rope! Uh, oh, is someone lost? Smiler, hiya, just leaving. yeah, you know, just killing time before I go back to my cube in the far "
+	"corner where Alex can't even see me anymore! You may not be a favorite anymore, but you will always have a place, in a cube! Yeah, in the nosebleeds. "
+	"Uh, I'm standing right here? Words hurt. The most important thing I can tell you is to just be yourself. Basically, happy itself. I am always smiling. "
+	"Places, please! Emojis to your cubes! Attention, we've got incoming! Gotta be meh, gotta be meh. Oh my gosh, my own cube! I can't believe it. "
+	"Oh, I could put a plant over here, and over here could go an inspirational calendar, okay, gotta be meh. Look at our son get on there, I'm beaming with pride! "
+	"You don't think he'll actually get picked, do you? Heiroglyphics. Heiroglyphics was an ancient language of picture forms. Does that remind anyone of anything. "
+	"Hello. A language of pictures, anyone? Early heiroglyphics back in ancient, I gotta reply to Addie's text! What should I write? Nothing! Nothing? Words aren't cool. "
+	"Ok, be cool, be cool. Alright, Alex is not sure how he wants to play this. Oh! I would really love it to be me! Beam me up! Beam me up! I need thumbs up on standby! "
+	"Oh yeah! Thumbs up is going in! Wait! Alex is changing his mind! He's moving! Ok, looks like it's gonna be meh. I'm so nervous, I could almost shrug. "
+	"We are go for meh! Initiating scan! Okay, you can do this. Ah! I can't do this! I can't do it! Stop the scan! I can't, it's too late! Oh! What's he doing? "
+	"He's making the wrong face! Good for him, little. Wait, what? Ugh. Abort, abort! Oh, shut it down, shut it down! Ah! what is that Emoji? All the Emojis present, "
+	"evacuate the cube! Evacuate the cube! I gotta get out of here! I'm trying! Oh, jeez. Sorry, everybody. That is not what I meant to do! I kinda. I kinda panicked. "
+	"Are you even a meh at all? Uh, who, me? Like you are, is a malfunction! A malfunction? No, I can be meh, just give me one more chance? "
+	"You know what would be really fun? A board meeting, where we can find out what to do with you! I just wanted to be useful, you know, fit in! "
+	"Now everybody's calling me a malfunction. I am a malfunction. Even if you are a malfunction, Gene, your mom and dad still love ya. I knew you weren't ready. "
+	"Let's get you out of here and take you home. One day, all of this will blow over, and everyone will almost forget about what you did. Until then, "
+	"you should probably stay locked up in the apartment. Wait, you're gonna hide me away? You're embarrased of me. It's for your own safety. "
+	"We're trying to protect you, son. Gene, where are you going? I'm not going to run away from this. I'm an Emoji, and, even though i'm not exactly sure which one, "
+	"I've gotta have some sort of purpose here, I know it. Gene, no! Sweetie, please! So, how'd it go, Gavel? Hey, lightbulb, tell me what's going on in there. "
+	"What, poop, what is it? Tell me turd, tell me truth. what happened? I know it was an accident. We all have accidents you're so soft, poop. not too soft, I hope. "
+	"I came up here to defend myself, but, uh, you seem pretty happy. so, good news? I'm always happy. Oh, right, yeah, truth. But the only thing that could ever make "
+	"me unhappy, is if one of our Emojis has made a mistake. Which would cause Alex to lose faith in the phone. And then, we get wiped out! Smiler, "
+	"I devil pinky swear promise to you that I will never, ever make a mistake in the cube again. Oh, we know you won't, Gene. We know you won't! Ha ha, you know, "
+	"the first time you said it it sounded genuine, but then you repeated it, and, and then, now it's weird. We're setting you up! With our best anti virus bots! "
+	"So they'll, like, uh, they'll just, they're gonna fix me? Actually, delete you. But yes! Wait, what? If you get deleted, you don't have to worry about department "
+	"heads, or the future, or lying about being a malfunction! Because you're deleted, right? Right! Good job! Bots! No! Stop, he's escaped! Party time! Oh, "
+	"wait a minute. The air is better here! My old cube! Ugh, pinkeye. Mike! My name's not mike. Ah! There's AV bots coming! What, me? Just because I'm in the wrong "
+	"section? Holy toledo! What do we do? Quick! This way! Let's go! Don't tell anyone you're about to see this. they'll never find us down here. Where are we? "
+	"The basement? Nope. Welcome to the loser lounge, where the Emojis who never get used, hang out. Go fish! Fishcake with swirls sweep so you won't cry. "
+	"Sweep so you won't cry. Sweep so you won't cry. I almost got deleted! Me! High five! Hey, what's up high five? they weren't trying to delete you, they were trying "
+	"to delete me. You? What's so important about you that they'd send out an entire team of bots? They say, I'm a malfunction. Oh, you bringing malfunctions in here now, "
+	"high five? for crying out loud, abandoned luggage, that had better not be my leftover chinese food, uh, what chinese food? Huh ha! Do you have any idea what it's "
+	"like to be living large? Hashtag blessed? The favorite of the favorites, and then demoted to this pit of despair? Here, will you hit my callouses for me? "
+	"at least you're a working Emoji, that's all I ever wanted. well, if that's all it will take you to be satisfied, then just find a hacker and get reprogrammed. "
+	"Tt's not that complicated. Where would i find a hacker? In the piracy app, duh. Ugh. And who took my clear nail polish? Piracy app? To get there, I mean, "
+	"I have to leave textopolis. So? I've done it. Would you be a brother. One of the princess Emojis left the phone altogether, now she lives on the cloud. "
+	"That is good. I'm sure the hacker that helped her do that could easily reprogram you. The name's Jailbreak. Jailbreak? that's great? Reprogrammed. I just need to "
+	"get reprogrammed, and then I can finally be the meh I was meh to be! Help me find that hacker high five, will you? Please? Maybe this hacker can help you, too? "
+	"Like, rewrite some code? Get you into the favorites sections? Wait a minute! Ow. I've been trying to use my charisma and sensitive entitlement to get me back on "
+	"top when all I need is a hacker! Today's your lucky day! let's roll! Hey, can i come too? Talk to the hand, bretheren. Bye, felicia. ciao, fishcake with swirls. "
+	"Daddy's headed back to the VIPs where he belongs! wait, what about the bots? Good point, Good point. I shouldn't have picked the cactus. I shouldn't have picked it. "
+	"You didn't even try to get the tree, It's baffling. Let's go. High five? Hello? High five! Where are you? I'm right here! Here we are! end of the text aisle. "
+	"No way. Come on, Gene, it's perfectly safe! Ah! Gene, help me! High five! Oh no, this is all my fault, high five, I, I'm just messing with you! "
+	"It's just one of those rubber finger monster puppets from the eighties, I collected the whole set! Alright, you coming? Uh, what do I do? What do you mean? "
+	"Just take a step through the other side. This, is it. The next time I come back here, I'll be a real meh. High five? Woah! Are you finished? Where, where are we? "
+	"Welcome, to the wallpaper! Wow. This place is incredible! Each app is a whole new world. Ow, that's my face, get off my face, thank you. What is this place? WeChat! "
+	"Tt's like a whole other world! Oh, it is. What are they? They're bubble pups, they might be cute, but man, are they clean. Bubble pups? They're stickers, Gene, "
+	"try to get with the program? This is so cool! Wait, what's in that one! Everybody's talking about themselves! How does he know so many people? None of these people "
+	"know him, but they like him, and that's what matters in this life, popularity. Uh, I, I think I'd rather just have a real friend. a real friend? "
+	"How's that going to get you anywhere? What you need are fans! They give you complete and unrelenting support! As long as you're on top. Poor Gene, I blame myself. "
+	"I blame you, too. I just wanted to be supported. You just wanted a vacation. You take that back, Mel. Bots, they haven't found Gene by now. He must have skipped town. "
+	"You mean the wallpaper? Our boy's on the run. How about we find him ourselves? Yeah, sure. tell those bots to follow those mehs. I'm sure they'll know about all those "
+	"freaky deaky apps Gene would hide out in. i'm really good at making plans, you guys, right? Here we are, the piracy app! this is where we'll find Jailbreak. "
+	"Um, but this is, the dictionary app. That's just what Alex wants his parents to think. This is called a skin. Really? What could a teenage boy possibly want to "
+	"hide from his parents? Just try to keep up, this place can get a little rough. Ahoy mateys, look who's back! High five! I'm a bit of a celebrity here, "
+	"always welcome. Ow! Loser! Come on, follow me. Oh, great, Emojis! I thought the conversation just got dumber. Ugh, internet trolls, just ignore them. "
+	"Eventually, they'll get a job, or a girlfriend, or some sort of purpose in life, and then they'll stop. Virus, we'll just, we'll just walk over this way, hi! "
+	"Tt's so great to see you again! Do i know you? It's spam! Just sign here and I can get you special discounts on vitamins and coupon offers that can save you up to "
+	"25 percent! 25 percent? Nonono no no, don't get sucked in! Back off, spam! Tt's the only way to do it. Back off! Thank you very much! You can illegally download our "
+	"CD right here! Hey, trojan horse, how are you? Yeah, what'll it be had? I'll have a bottle of, hack, daniels, hmm? Maybe with a plate of, cheese, and hackers, "
+	"kapeesh? You try to buy a hacker, you can just ask, you know. Oh, sorry, um, yes. We're looking for a hacker named Jailbreak. Oh, I know a guy who could hook you up. "
+	"Right over there. Oh, yes. Patable. No, not him. Her! Wait, he's a she? Hey! Jailbreak! Mind if we join in? Yes. That's the thing about the internet, is that you "
+	"never know if someone's being ironic or sincere. I sincerely, unironically want you to go away. Ha ha ha ha, so good., so here's the thing, my friend Gene here has "
+	"a little problem. Well, see, I'm supposed to be a meh, but I don't really feel, yeah, yeah, and we thought that you could help, the princess, you know, off the phone, "
+	"woah, hold up, that's not a meh face. Bots, they're after me! How are you doing that? Look, it's just something that I can do, can you help us? Follow me. "
+	"Bots, delete my history! I need to wipe my entire hard drive! I made the most delicious cinnamon buns! Maybe if there was something to uh, jog my memory? Come on! "
+	"Move! Hey trolls, wipe our mailbox wearing a tuxedo! Hi, it's so great to see you again! This tunnel will get us out of here! Move! Get us out of here! Move! "
+	"Did that cloud taste sweet to you? Ow. Ow. Ow. Help me. help, I'm stuck! Sweet motherboard! Where am I? Candy crush! Get me out of here! Hey, cornface! "
+	"Try getting him out the top! Already on it! Hold tight, Gene! Woah! Woah! This feels very off, and smells. I mean, it smells delicious, but, I still don't like it! "
+	"The game obviously thinks you're a candy, even though you're, weirdly misshapen, you know? What do I do? Stay very still! Don't worry, we've got your back! "
+	"Right, high five? Hey, fingers! You wanna focus? For your information, I happen to have a sugar addiction, and it's a very, serious. Hey, finger head, we have to "
+	"get Gene out of the game without blowing him up! I don't want to blow up! we have to match up the candies so that Gene will drop to the bottom. and we can't match "
+	"him with any yellows, or else. Oh! Don't do that, please don't do that. Watch. Got it? Knock 3 in a row, don't blow Gene up, got it. And, we have to be careful. "
+	"Yeah yeah yeah. Careful! Woo hoo! Candy! Yo! No no no! Don't do yellow! Do not do the yellow! I said careful! Hey, Addie! I, I was just wondering, if, you are "
+	"tasty. What? Um, delicious. Excuse me? Sweet. Hey Addie! Uh, hi Nikki. See you later, Alex sugar crush. Ah! I'm so over this. Wireless Repair Service, "
+	"how may I help you? I'd like to make an appointment. It's like this phone is playing games with me! Woah! Hey, what does this do? Get me out of here! Ooh, suck "
+	"it in, stop it, stop it, ow ow ow, it's not working! well, there's one option left. We line you up with the yellows. But you said not to do that! Special candies "
+	"get transported to that jar. The game might think that you're a special candy. And, what if it doesn't think I'm a special candy? Jailbreak, hello? Hello, jailbreak? "
+	"Oh, sorry. What if it doesn't think I'm a special candy? Oh, I'm not too worried about it. Alright, just do it. Gene, Gene! You're alive! You were trying to see if "
+	"I had somehow turned into candy, weren't you? Yes i was. And you have not! Hey, looks like something popped up on Alex's calender. Ah, i'm sure it's nothing. "
+	"Ah, Alex made an appointment at the phone store? Calm down, everyone, calm down. don't worry, everything is fine. maybe Alex just wants to buy some accessories. "
+	"Uh, his appointment is with techinical support. Well, I'm sure we'll have plenty of time to figure this out. Uh, his appointment is for tomorrow. "
+	"Then maybe it's just for some routine maintenance? Uh, actually, it's to erase the phone. Listen, Gene, I'm about to become your knight in shining armor. You are? "
+	"Oh yeah. But first, we need to get uploaded to the cloud. That's where we'll find the source code to reprogram you. The, cloud? Isn't that off the phone? Ding "
+	"ding ding ding! You got it! Yeah, the cloud! Off the phone! Uh! We're in candy crush, Oz, I know a shortcut to just dance, which is right next to Dropbox, "
+	"where we can get uploaded to the cloud. Of course, just go dive into the Dropbox and vroom! Hold up, here's the stinker. Before they let us into the cloud, "
+	"we have to get past this, firewall. The firewall uses face identification. It's really annoying, because I've already tried to get through. Guessed wrong once, "
+	"and now I'm locked out for life. Locked out for life? You're thinking, because I can make different faces, the firewall will think I'm different Emojis! Yeah, "
+	"I wanted to say it, because it was my idea. You know, women are always coming up with stuff that men are taking credit for. You know what, well, let's hit the road. "
+	"High five, you coming? I'm coming! Why do I always think I'm going to come around on black licorice? Ah! Oh! My precious, move it! Sudden death, here we come! "
+	"Let's try this one, Youtube? wow, what an original treat, and I don't even need a remote. That guy is so expressive. He reminds me of Gene. Wes, something's really "
+	"wrong here. Our son is a malfunction, and you should have never let him go into that cube. Don't blame me for that now, I am hopping mad at you. See? Mary, "
+	"I think we're being followed, but don't overreact. Uh oh. I told you not to overreact. What are you doing now? I could be in there for hours. Hey, "
+	"where are you going. I think we should go our seperate ways, Mel. I thought I knew the meh that I married, but maybe I don't. But, Mary? This tunnel will help us "
+	"avoid the bots. Thanks for helping us. It's really, really nice of you. NPD, dude. You're helping me! Move along, move it, Why so slow? High five, stop, "
+	"why are you getting so close? Back off. I can't stop now, I'm having a sugar rush! I'm going to go around you. If I stop moving, my heart's going to explode! "
+	"Coming through, Jailbreak! Watch out! Hey! Watch it, knuckle butt! I can't feel my face! Ha ha! Jailbreak, you said back there that I'm, helping you. "
+	"I've been trying to get past that firewall for months! Ha ha ha ha ha, come on, come on, the faster we go, the faster I can become a favorite! "
+	"Look at me i just want to bounce out of here, get off the phone, and live on the cloud! What just happened! You know, you don't like it here? There are so many rules "
+	"here! What is up with that? The cloud's supposed to be amazing, it's full of dreams too, oh, sugar crash. I can't hold on anymore. Catch me, gene, catch me! "
+	"And you can be whoever you want! Thanks. We're free! Come on! Oh, oh my gosh, my hands are sweating. You know what, come to think of it, I don't really remember "
+	"there ever being a hacker emoji. Oh, um, you know, you're taking too much of my brain space, let's try to keep the chit chat to a minimum. Ooh, someone likes you. "
+	"What are you talking about? This just like when peace sign gave me just one finger, I knew she was in love with me. Let's go! Ugh, I'm never eating another piece of "
+	"candy ever again, high five, don't do it! Don't you do it! It's already been in there once. Don't do it. Wow. Move it! Are my fingers getting fat? I'll tell you "
+	"what, this bandage wasn't so tight before. Okay, we get through this app, and Dropbox is right on the other side. we just need to keep it super DL in here. "
+	"And no matter what, we can't, turn it, on. OMG this turned it on! what? I'm a hand, it's a big red button! Woah. No no no no! what's happening! "
+	"Welcome to just dance! Follow my moves and you get to move forward! Do the wrong moves and you get an X! Three strikes and you're out! Out? What does she mean "
+	"by out? digital death. Thanks to you, fingers, now we're going to have to dance our way out. Which is alright with me, because I can shake it like Michael. "
+	"or Michael's glove, anyway. Are you ready to dance? This is bad, Gene, I can't dance, I got no groove! Come on, everybody can dance! Not me, okay? "
+	"I'm really stiff, see? You don't, understand? Okay, no no. Stop, stop. You have to stop. I see now what you are saying? Just follow her moves. Ready to dance "
+	"in three! This I can't do! Two! Dude! Just shut up and, dance! I'm just doing it! Jailbreak! I got you! look, just do the music, express yourself! Dance? "
+	"Yeah, you got it! Now throw some sauce on that dance burrito! Woo hoo! I'm doing it! I'm finally nailing this dance! You got it! Hee hee! Oh ho ho! Great job! "
+	"now you're moving on to free dance! Impress us with your moves to move forward! More dancing? You're killing it, Gene! Nice! Take it gene! You can break it! "
+	"Wait a minute! I've never seen that dance before! What's it called? The Emoji, Bob? I love it! You do! Everybody! Do the Emoji Bob! Ha ha ha! Woo! Oh! Princess! "
+	"Woah! You're the princess Emoji! You never got off the phone! New player! Who? Oh no! We gotta go! No worry, they're robots, they can't dance! Downloading thought "
+	"protocol, can't dance, he says. Heh. Hey Alex, you gonna dance for us? Alex, that's extra homework for you. Yeah, Alex's getting wicked, ha ha ha. Alex must be "
+	"deleting the app! Watch out! We gotta get out of here! Come on! Hoo! This song is my jam! High five! Come on! Let's go! Hurry! Gene! I got you! Gene! "
+	"Gene, hey, wait a minute, where's high five? Alex trashed the app, and high five right along with it. Wait, what? Wait, trashed? High five is in the trash? "
+	"He wanted to dance, but, I knew it was a bad idea. I'm so sorry., we gotta get him out of there. Gene, Dropbox is right here, we have to get to the cloud! "
+	"And the trash is on the other side of the phone! We don't know how many other bots are out there! I'm sorry! No, wait! I can't go without high five. "
+	"I don't care how far away it is. Gene, that's my friend down there. I'm not going to just let him get deleted. What, what is it? I've always just thought, "
+	"you've got to look out for number one. Wut what good is it to be number one, if there aren't any other numbers? Wow, okay. I'm sorry, this is, this is my "
+	"malfunction, I just, I can't be meh about anything, this is why I'm going to be reprogrammed. Well, actually, it's kinda cool. Wait, really? No, I think I "
+	"know a shortcut. We can take the music streams in Spotify. Let's go give that big hand a hand. Come on! Now it's trashed the just dance app, and our bots are "
+	"offline, and it's giving me a real headache. I am so angry! I really need to stay happy. Can we please lighten the mood? No one can resist la fiesta! ole! "
+	"Not that happy. Ow! we've only got four hours before Alex's phone appointment. If they find a malfunction on the phone, we are all going to be wiped! She said wiped! "
+	"Aim higher, Steven. I didn't want to have to do this, but it is fun to press buttons. The illegal upgrade! Now that makes me happy! Ah ha ha ha ha ha ha ha ha! "
+	"I just want to dance, dance, argh! Quiet, you saucy gypsy. Ugh, where am I? Hi! It's so great to see you again! You're in the trash, fingers for brains! "
+	"Get away from me, troll! Hi! Tt's so great to see you again! I've got to get out of here. You can't! And at the end of the day, the trash gets emptied, "
+	"and we're all going to die! Oh no, no, no! This is the last face you will ever see! This is Spotify? Yep, every one of those streams is a different song. "
+	"Is it safe? Are you sure that this is a good idea? That's the point of the wave, dude! Can we at least pick a, a colorless stream? Okay buzzkill, Alex, a bunch "
+	"of people are hitting the promenade, and I think Addie might be there, too. that's perfect! I have an appointment down there, anyway! I've got to get this phone "
+	"fixed! Hey, bubble butt! Yeah. Ah, much better. So, i gotta ask, is it true that when a princess whistles, birds fly down from the skies. Hello, stereotype, "
+	"that is a complete and total myth! I'm sorry. did you realize that in the first emoji set, a woman can either be a princess, or a bride? That's why I need to get "
+	"to the cloud, where you can be whatever you want to be! Get ready! Whale song coming! Wait, wait, whale what? Whale song! from Alex's biology DVD! Woah! Wow! Woah! "
+	"Ha ha ha ha. You're not going to see that sitting around in a cube. Funny, you went out of the cube, and I went in. Gene, that means you can't be yourself. "
+	"What's the point? You know, I think you're pretty cool just the way you are. We're, we're going to need this. Nobody knows, the touchscreen dramascene. "
+	"Nobody knows my screenshot, trash? Me? I used to be somebody. Here I am, in an old email Alex never sent. Addie, blah blah blah blah blergh. And then there's me! "
+	"High five! Right there! Doing my job! FYI, nobody cares about you. Just leave me, troll, and let me die! In this dump alone! Let me look for the world's smallest "
+	"violin in here, so that you can play it! Is that the hand angel of mercy? Has she finally come for me? Give me your hand! I mean, give me yourself! "
+	"Take my hand, angel! I'm ready to take my place amongst the other great hands of the past. It's me, Gene! Gene? The one and only. Gene! I got him! "
+	"Take me with you! High five! Let go of me! You'd leave me down here? You were wrong, troll, people do care about me! And I'm not upset, troll! Do you see how "
+	"not upset I am? Gene! You came back for me! You saved me, it wasn't just me, Jailbreak helped, too. She's a hugger. Give her a squeeze. Oh, nonono no. Not really, "
+	"nothing great. I'm not feeling your feelings, relieve me! You filthy trolls, I inhaled your stench, and I was once one of you, so I feel your pain. So now, go. "
+	"Be free! Smooth sailing from here. Huh ha ha! Ugh. Gene! Gene, Gene? Are you instagramming? Oh, where is my Gene. Oh, Mary, You've really done it this time. "
+	"No, you haven't. Mel? What are you doing in Alex's trip to france album? I was looking for you. None of this is your fault, Mary. It's mine. what do you mean? "
+	"Is that a tear on your cheek? It's my fault Gene is the way he is. I have other expressions, too. I think they've just been buried away. But with gene going missing, "
+	"and thinking I might have lost you, too. Oh, Mel, why didn't you tell me? I didn't know myself. Right now, I'm so overwhelmed with passionate feelings for you. "
+	"Mary, my love for you burns with the intensity of a red hot flame. Oh, I like it. Let's go find our son. Together. We'll always have Paris, Mary. "
+	"So you're a princess. So you have a little tiara, very fancy. Is it true when a princess whistles, birds fly down from the sky. No, guys, that's a stupid myth! "
+	"What awkward virgin haven are you living in? Go read an e-book! Educate yourself! Uh, jailbreak? What the? What is that? smiley must have upgraded her bots! "
+	"Let's get out of here before it. Hi, do you remember me, it's Smiler! I'm coming to you live from the amphitheater, why don't you come back to textopolis and we can "
+	"talk through our differences, okay? My friend here will escort you, alright, I'm gonna see you soon, buddy, bye now! We're actually going to delete them in front of "
+	"everyone. It's still on. It's still on? Oh! Jiminy, attack the frauds! Seperate! Take a look! Jailbreak! Gene! This way! Tt's still onto me! Over here! Let's go! "
+	"We have to make it to dropbox! Yes! No! Go low! Woah! Don't worry, it can't get in. It's illegal malware, and this app is secure. Come on. Welcome to dropbox! "
+	"You are about to leave the phone. Remain seated, please! Might want to hang on! Why do they call it dropbox, anyway? Oh, this is why! I see why now! "
+	"I'd better not see that candy corn again! We made it! You guys, chill. We still have to get past, that. Oh. Welcome to the firewall, how may I help you? "
+	"Alright, here goes! What should I do? Sit in the corner, and don't say a word. Keep those soft fingers to yourself. Yes, your majesty, princess of nightmares! "
+	"Now Gene, step onto the password icon, and I'll feed you the passwords. Okay. Okay. Ten, eleven, two thousand and two. Ten, eleven, two thousand and two. Ow. "
+	"Cough. Access denied. Okay, try a different expression. Is it going to blast me every time I messed up? Yeah, kind of. What do you mean kind of? Ready? "
+	"Welcome to the firewall. His favorite food. Chimichangas! Chimichangas? Ow. Access denied. Huh. This might take a while. What did i do now? Ow. "
+	"Skate, or die! Access denied. Denied. Denied. Denied. I don't get it! We've tried all of the important things in Alex's life! His favorite pet, his sport, "
+	"his favorite grandma. I'm sorry, Gene. I let us all down. Now, if I had to come up with a password, I'd probably use the name of a girl I like. "
+	"I've been all over the phone! He's never mentioned a girl. Yes he has! Hi. When I was in the trash, I read a very interesting email, But, I'm just a dunce, "
+	"in the corner, forbidden to speak. What email? Worry, what? What email? Uh, took it out, at school, he was declaring his feelings of love for her, I guess instead "
+	"of sending it he tossed it in the trash. High five, this is very important. What is her name? Her name, yes! Excellent question. It was, ugh.. gotta find that email, "
+	"I think I can access the trash. I got it! Addie! yes! Yes, that's it, Addie! I knew I'd get there! Dear Addie, you and I, we are like diamonds in the sky. "
+	"you're a shooting star I see. A vision, ecstacy. shining bright like a diamond. He used a high-five, see? Guess now we know why he trashed it. "
+	"Ooh, shade. Guys, should we try this? Addie! access granted. Oh snap. This place, is, amazing. Wow, I can't believe it. Woah. One little Emoji could sure get lost "
+	"in a place like this. I, I guess we should, make you, a meh before that bot comes back home. Oh, oh, so we're gonna do that now. We had a deal, right? Yeah, okay. "
+	"Right. I, uh, guess I'll start hacking. Ha! we did it, Gene! all our dreams are coming true! I'll be Alex's favorite again, and you'll be a real meh! Ha ha, yeah! "
+	"Do the hand dance. Do the hand dance. And pinky. Pop it with the pinky. Pop it with the pinky. Yeah, but this all seems kinda super fast now, doesn't it? "
+	"I didn't expect to be having these feelings right now. Well, maybe you should go and express them while you still can. So, uh, I've been thinking, um, ever since we. "
+	"Jailbreak, you're the coolest, most interesting Emoji I've ever met. And, after all the adventures that we've had, I'm just not sure that I want all of that to go "
+	"away. Because, my feelings, right now, are, like, huge. I just think that they could be enough for me to want to stay the way that I am. If it means that I could "
+	"stay here, with you, like, forever. Forever and ever. And ever. Maybe longer than that, even? Like in the fairy tales. Uh, wait, wuh, what is that? Gene, if this is "
+	"about you deciding not to be meh, then, I am all about that. I like you just the way you are, but I had a plan. Right. I'm not just some princess, Gene, waiting "
+	"for my prince. I mean, uh, what you said was beautiful, but, Gene. Ha ha ha! you're all, meh! The source code worked! Turns out I didn't need it. For the first time "
+	"in life, meh is all I feel. Oh! Gene! I have an appointment. I'm a little early. no prob. I can take you right now. Jailbreak! Ah! don't do that! That freaking "
+	"huge bot has got Gene back inside the phone! What? he left being more meh than the meh-est meh face I've seen! What did you say to him? It's what I didn't say. "
+	"We gotta go get him. How are we going to get there in time before he gets deleted? Ugh, I can't believe I'm doing this. You tell anyone you saw this and I'll "
+	"crack more than those knuckles. Woah. Birds do like princesses! It's not a myth! It's not a myth at all! What happened with becoming a favorite? "
+	"Because I'd rather have one real friend. Let's go get him. I can't wait to see that Emoji's face! Look at that expression! Is that for realizing that you've put all "
+	"of textopolis at risk? Causing Alex to question our reliability? Hmm? Hey, now that's going too far, even for me! If we could delete this malfunction, "
+	"before he gets dissapointed, Alex will realize there's nothing wrong with the phone. And any last words? Meh. Well, it's too late for that. Delete him! Wait! "
+	"you delete Gene, you'll have to delete me, too. what? I have the same malfunction Gene has. Dad? Oh gosh, I don't know what to do! Yes I do! Bots! Sorry misses meh. "
+	"Wow. I did not see that one coming. Smiler, I think you might be making too much stink out of all this. Oh really? How about you're next? I was wrong, Gene. "
+	"I should have believed in you all along. Oh, what a touching daddy son reunion moment! It reminds me of the time I deleted you both! oh wait! That's this time! "
+	"Delete the two malfunctions! How's that for an entroof gasp oh, great. I can't reach! Oh no! What did you do to my tooth! Hand, button! Jailbreak? Oh, Gene. "
+	"You really are a meh. What happened to looking out for number one? Being number one doesn't matter if there aren't any other numbers. Alex's appointment! "
+	"He's deleting the phone! Nononono no no no no! Show me Alex. Are you sure you want to delete everything? Do it! Red alert! Alex, no! Game over. Aellas, I'm "
+	"afraid this is the last call. Dude, Addie's here. You should go over. Every time I try, I screwed up! I don't even know how to tell her how I feel! "
+	"If we help Alex connect to Addie, maybe he won't delete us. I might be able to bypass the wipe and get a text through to him. But we'll only have time to send one. "
+	"Maybe I should go! He has love in his eyes. Send me! Alex looks nervous, too! He's more shy than nervous! Stop! It's Gene. He's all of those things! Emojis "
+	"should only be one thing! Oh, really? Gasp the princess! Linda? not now, mom! Gene, you got this. That's not me anymore. But I have to try. It's starting! No! "
+	"It's ending! Almost in? Working on it! Mom? Dad? No, I'm in! Last time I was in this cube I screwed everything up. Gene, why do you think I came back? "
+	"It's because of you. Me. It's all inside of you, Gene. just try to bring it back. And do you. High five! I don't want to wave goodbye! It's now or never, Gene! "
+	"Jailbreak, now! Woah! She got this Emoji! No way! Hey, I got your text! That's one super cool Emoji! I know, right? A lot of feelings in one! I get it! I like that "
+	"you're one of those guys who actually expresses feelings! Yeah, that's me! I'd love to go to the dance with you. We made it! Oh, I could have lost you, peter pinky "
+	"finger. Oh, you wretchy ring finger, even you, tiberius thumb. Change your mind? Yeah, maybe it's weird, but I'm going to hold onto it. Gene, you did it! "
+	"You saved us all! Oh, Mel. Hey, what happened, Gene? Slap me some skin! And a little orange for the pinky! Hey high five! Save a little hand for later! "
+	"Unless you know the hamburger! Back on top of the hand pile! You're not on the list! Wait, what? What's going on? Ha! From now on, everyone is welcome! "
+	"Wait, what is all this? It's for you, Gene! everybody! The Emoji bob! This is so jazzy, go eggplant! Go eggplant! Go eggplant! We are out of Alex's pocket, "
+	"Emojis! This is not a butt dial! To your cubes! Are we up and running? Roger that. Good, because we got incoming! Looks like it's gonna be Gene. "
+	"Hey gene, ready to try out your new cube?");


//Proper nouns to keep capitalized
var properNouns = ["Addie", "Mccallister", "Alex", "Tim", "I", "I'm", "Gene", "Emoji", "Emojis", "Emoji's",
"Mel", "Cryer", "Smiler", "Alex's", "Steven", "Addie's", "Gavel", "Mike", "Jailbreak", "Mel", "Nikki", "Oz", "Youtube", "Mary", "Michael",
"Michael's", "Bob", "Dropbox", "Spotify", "Paris", "Jiminy", "Alex's", "Linda"];

//Array of words not to end a line with
var avoidEnding = ["and", "the", "so", "he", "to", "is", "while", "his", "that", "with", "as", "a", "are", "by", "of", "in", "its", "from", "has", "for", "be",
"all", "every", "they", "my"];

//Here's a list of exceptions to the basic rules of syllable counting in our getSyllables function below
var syllableExceptions = [];
syllableExceptions["the"] = 1;
syllableExceptions["we"] = 1;
syllableExceptions["I"] = 1;
syllableExceptions["I'm"] = 1;
syllableExceptions["little"] = 2;
syllableExceptions["services"] = 3;
syllableExceptions["me"] = 1;
syllableExceptions["Addie"] = 2;
syllableExceptions["Mccallister"] = 4;
syllableExceptions["be"] = 1;
syllableExceptions["your"] = 1;
syllableExceptions["shes"] = 1;
syllableExceptions["Alex"] = 2;
syllableExceptions["every"] = 2;
syllableExceptions["everything"] = 3;
syllableExceptions["actual"] = 3;
syllableExceptions["Emoji"] = 3;
syllableExceptions["Emojis"] = 3;
syllableExceptions["does"] = 1;
syllableExceptions["tree"] = 1;
syllableExceptions["Cryer"] = 2;
syllableExceptions["he"] = 1;
syllableExceptions["Tim"] = 1;
syllableExceptions["Mel"] = 1;
syllableExceptions["Smiler"] = 2;
syllableExceptions["Steven"] = 2;
syllableExceptions["Alexs"] = 3;
syllableExceptions["Addies"] = 2;
syllableExceptions["Gavel"] = 2;
syllableExceptions["Mike"] = 1;
syllableExceptions["Jailbreak"] = 2;
syllableExceptions["Nikki"] = 2;
syllableExceptions["Oz"] = 1;
syllableExceptions["Youtube"] = 2;
syllableExceptions["Mary"] = 2;
syllableExceptions["Michael"] = 2;
syllableExceptions["Michales"] = 2;
syllableExceptions["Bob"] = 1;
syllableExceptions["Dropbox"] = 2;
syllableExceptions["Spotify"] = 3;
syllableExceptions["Paris"] = 2;
syllableExceptions["Jiminy"] = 3;
syllableExceptions["Linda"] = 2;

//Stores if the last character was a vowel
var lastVowel = false;

//These string will store out lines for our haiku
var firstLine = "";
var secondLine = "";
var thirdLine = "";

//Size of ngrams
var order = 7;

//Empty object for ngrams
var ngrams = {}; 

function generatePoem()
{
	//Generates lines with proper syllable counts
	//firstLine = generateLine(5);
	//secondLine = generateLine(7);
	//thirdLine = generateLine(5);

	//Puts the finished lines into the html page
	//document.getElementById("line1").innerHTML = capitalize(firstLine);
	//document.getElementById("line2").innerHTML = capitalize(secondLine);
	//document.getElementById("line3").innerHTML = capitalize(thirdLine);

	var clean = cleanString(inputText);

	var words = clean.split(" ");

	for(var i = 100; i < 1000; i++)
	{
		console.log(words[i], getSyllables(words[i]));
	}
}

function createNgrams()
{
	//Loops through characters in the inputText
	for(var i = 0; i < inputText.length - 1; i++)
	{
		var gram = inputText.substring(i, i + order); //Gets substring

		//Tests if the substring already exists in the array
		if(!ngrams[gram]) 
		{
			//If not, add it to the array as an empty array
			ngrams[gram] = [];
		}

		//If it's already there, add the character after the substring as a possibility		
		ngrams[gram].push(inputText.substring(i + order, i + order + 1));
	}
}

function capitalize(word)
{
	//Returns the first letter capitalized, and the rest of the string together
	return word.charAt(0).toUpperCase() + word.substring(1, word.length);
}

function findStartingIndex()
{
	//Creates an emprty array to store all indexes that contain a space in inputText
	var endSentencesIndexs = [];

	//Finds all indexes that contain a space
	for(var i = 0; i < inputText.length; i++)
	{
		if(i == 0 || inputText[i] == '.')
		{
			//If the current index contains a space add it to the array
			endSentencesIndexs.push(i);
		}
	}

	//Gets a random index with a space to start our poem at
	var startingIndex = endSentencesIndexs[getRandomInt(0, endSentencesIndexs.length)];

	//Returns the index after the random space index it selects, so the line doesn't start with a space
	return startingIndex + 2;
}

function getLineLength(syllableCount)
{
	//Returns a random character length depending on how many syllables are supposed to be in the line
	return syllableCount = 5 ? getRandomInt(5, 30) : getRandomInt(20, 50);
}

function generateLine(expectedSyllables)
{
	//Gets a random starting index to start generating a line
	var startIndex = findStartingIndex();

	//Gets a random line length to generate
	var lineLength = getLineLength(syllableCount);
	var syllableCount = 0;

	//Gets the starting ngram
	var currentGram = inputText.substring(startIndex, startIndex + order);

	//Sets the final string to start with said ngram
	var result = currentGram;

	for(var i = 0; i < lineLength; i++)
	{
		//Gets the array of possible characters that can follow the current ngram
		var possibilities = ngrams[currentGram];

		//Sees if there's any possibliities left
		if(!possibilities)
		{
			//If not, then breaks out of the for loop
			break;
		}

		//Gets a random character based off probability of that character showing up after that ngram
		var nextCharIndex = getRandomInt(0 ,(possibilities.length - 2));

		//Sets the next character to that randomly selected index
		var nextChar = ngrams[currentGram][nextCharIndex];

		//Adds that next character to the end of the string
		result += nextChar;

		//Stores the length of our result for convenience
		var len = result.length;

		//Resets the current gram for the next character generation
		currentGram = result.substring(len - order, len);
	}

	//Cleans the string of any punctuation and unnecessary capitalizaion
	result = cleanString(result);

	//Splits the final string into it's seperate words so it can count the syllables
	resultWords = result.split(" ");

	//Cycles through each word
	for(var i = 0; i < resultWords.length; i++)
	{
		//Adds the syllable count
		syllableCount += getSyllables(resultWords[i]);
	}

	//If the syllable count isn't what's needed, recursivley call generateLine to get a new one in hopes of having the right syllable count
	if(syllableCount != expectedSyllables)
	{
		result = generateLine(expectedSyllables);
	}

	if(!checkEnding(result))
	{
		result = generateLine(expectedSyllables);
	}
	
	if(!checkString(result))
	{
		result = generateLine(expectedSyllables);
	}

	return result;
}

function getSyllables(word)
{
	//Empty syllable count variable
	var syllables = 0;

	//Sees if the word is one of the exceptions
	if(syllableExceptions[word] > -1)
	{
		//If so just get the syllable count stated above
		syllables = syllableExceptions[word];
	}
	else
	{
		//Sets the lastVowel to false to start off the word
		lastVowel = false;

		//Cycles through each letter of the input word
		for(var i = 0; i < word.length; i++)
		{
			//If the current char is a vowel, and that last one isn't, add a syllable
			if(isVowel(word[i]) && !lastVowel)
			{
				syllables++;
				lastVowel = true;
			}
			else
			{
				lastVowel = false;
			}
		}

		//Stores the length to use in arrays for covenience
		var wordLength = word.length - 1;

		//Tests for common silent endings
		if(word[wordLength] == "e")
		{
			syllables--;
		}
		else if(word[wordLength - 1] == "e" && word[wordLength] == "s")
		{
			syllables--;
		}
		else if(word[wordLength - 1] == "e" && word[wordLength] == "d")
		{
			syllables--;
		}
	}

	return syllables;
}

function cleanString(toClean)
{
	//Splits the regular string into an array of words
	toFixCapitals = toClean.split(" ");

	//Clears toClean string
	toClean = "";

	//Loops through every word
	for(var i = 0; i < toFixCapitals.length; i++)
	{
		//Removes special characters
		toFixCapitals[i] = toFixCapitals[i].replace(/[`~!@#$%^&*()_|+\-=÷¿?;:'",.<>\{\}\[\]\\\/]/gi, '');

		//This will run if the srting toClean isn't in the array
		if(properNouns.indexOf(toFixCapitals[i]) < 0)
		{
			//Sets the word to lowercase
			toFixCapitals[i] = toFixCapitals[i].toLowerCase();
		}
	}

	//Adds the lowercase chars to the final string
	for(var i = 0; i < toFixCapitals.length; i++)
	{
		toClean += toFixCapitals[i];
		
		if(i != toFixCapitals.length - 1)
		{
			toClean += " ";
		}
	}
	
	//Removes the space at the end of the string, and keeps removing characters until it hits a space to remove extra, incomplete words
	while(toClean[toClean.length - 1] != " " && toClean.length > 5)
	{
		toClean = toClean.substring(0, toClean.length - 1);	
	}


	return toClean;
}

function checkEnding(line)
{
	//Splits the line into words
	var words = line.split(" ");

	//Checks the last word, and sees if it's an appropriate word to end on
	if(avoidEnding.includes(words[words.length - 2]) || properNouns.includes(words[words.length - 2]))
	{
		return false;
	}
	else
	{
		return true;
	}
}

function isVowel(char)
{
	if(char == "a" || char == "e" || char == "i" || char == "o" || char == "u" || char == "y")
	{
		return true;
	}
	else
	{
		return false;
	}
}

function checkString(line)
{
	var words = line.split(" ");
	
	if(hasDuplicates(words))
	{
		return false;
	}
	else
	{
		return true;
	}
}

function hasDuplicates(array)
{
    return (new Set(array)).size !== array.length;
}

function getRandomInt(min, max)
{
	return Math.round(Math.random() * (max - min + 1)) + min;
}
